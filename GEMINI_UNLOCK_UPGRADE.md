# Clash é…ç½®å‡çº§æ€»ç»“ - Gemini/Cursor è§£é”ä¼˜åŒ–

## ğŸ¯ æ”¹è¿›ç›®æ ‡
è§£å†³åŸé…ç½®æ— æ³•ç¨³å®šè§£é” Gemini/Cursor ç­‰ AI æœåŠ¡çš„é—®é¢˜ï¼Œå®ç°å•†ä¸šæœºåœºåŒç­‰ç¨³å®šæ€§ã€‚

## ğŸ”§ å…³é”®æ”¹è¿›

### 1. DNS é…ç½®å‡çº§ â†’ fake-ip æ¨¡å¼
**ä¿®æ”¹å‰:**
```yaml
dns:
  enhanced-mode: redir-host  # åªèƒ½åŠ«æŒ UDP:53
  nameserver:
    - 8.8.8.8  # æ˜æ–‡DNS
```

**ä¿®æ”¹å:**
```yaml
dns:
  enhanced-mode: fake-ip          # å¼ºåˆ¶æ˜ å°„æ‰€æœ‰åŸŸååˆ°å‡åœ°å€
  listen: 0.0.0.0:1053           # DoH ç›‘å¬ç«¯å£
  nameserver:
    - https://1.1.1.1/dns-query   # DoH åŠ å¯†æŸ¥è¯¢
  proxy-server-nameserver:
    - https://1.1.1.1/dns-query   # ä»£ç†æµé‡ä¹Ÿèµ° DoH
  fake-ip-range: 198.18.0.1/16
```

**è§£å†³é—®é¢˜:** Gemini/Cursor çš„ DoH + QUIC è¯·æ±‚è¢«å¼ºåˆ¶æ‹¦æˆªï¼Œä¸å†ç›´è¿æ³„éœ²çœŸå® IPã€‚

### 2. æ·»åŠ æµé‡å—…æ¢ â†’ æ•è· QUIC
**æ–°å¢é…ç½®:**
```yaml
sniffer:
  enable: true
  sniff:
    TLS:
      ports: [443]              # æ•è· QUIC UDP:443
      override-destination: true
    HTTP:
      ports: [80, 443]
  force-dns-mapping: true
```

**è§£å†³é—®é¢˜:** åœ¨ TLS æ¡æ‰‹é˜¶æ®µå°±è¯†åˆ« SNIï¼Œç¡®ä¿ QUIC åŒ…è¿›å…¥ä»£ç†éš§é“ã€‚

### 3. å¯ç”¨ TUN æ¨¡å¼ â†’ å…¨å±€ä»£ç†
**æ–°å¢é…ç½®:**
```yaml
tun:
  enable: true
  stack: system
  auto-route: true
  dns-hijack:
    - any:53                    # åŠ«æŒæ‰€æœ‰ DNS æŸ¥è¯¢
```

**è§£å†³é—®é¢˜:** ç³»ç»Ÿçº§å…¨å±€ä»£ç†ï¼Œæ‰€æœ‰ UDP/TCP æµé‡å¼ºåˆ¶è¿›å…¥ä»£ç†ã€‚

### 4. ç«¯å£é…ç½®ä¼˜åŒ–
**ä¿®æ”¹å‰:**
```yaml
port: 7890          # åˆ†ç¦»ç«¯å£
socks-port: 7891
```

**ä¿®æ”¹å:**
```yaml
mixed-port: 7890    # HTTP+SOCKS+TUN å¤ç”¨
```

### 5. è§„åˆ™æä¾›å™¨ â†’ è‡ªåŠ¨æ›´æ–°
**æ–°å¢é…ç½®:**
```yaml
rule-providers:
  Google:
    type: http
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Google.yaml"
    interval: 86400   # æ¯æ—¥è‡ªåŠ¨æ›´æ–°
```

**è§£å†³é—®é¢˜:** 7000+ æ¡ Google åŸŸåè§„åˆ™è‡ªåŠ¨æ›´æ–°ï¼Œè¦†ç›–æ‰€æœ‰ `*.googleapis.com`ã€`*.gstatic.com` ç­‰å­åŸŸã€‚

### 6. ä»£ç†ç»„ä¼˜åŒ– â†’ æ•…éšœè½¬ç§»
**ä¿®æ”¹å‰:**
```yaml
- name: "AI-Services"
  type: select      # æ‰‹åŠ¨é€‰æ‹©
```

**ä¿®æ”¹å:**
```yaml
- name: "AI-Services"
  type: fallback    # è‡ªåŠ¨æ•…éšœè½¬ç§»
  url: http://www.gstatic.com/generate_204
  interval: 300
```

## ğŸ“Š æ•ˆæœå¯¹æ¯”

| é…ç½®é¡¹ | åŸå§‹é…ç½® | ä¼˜åŒ–åé…ç½® | è§£é”æ•ˆæœ |
|--------|----------|------------|----------|
| DNS åŠ«æŒ | âŒ ä»… UDP:53 | âœ… DoH + fake-ip | Gemini DoH è¢«æ‹¦æˆª |
| QUIC å¤„ç† | âŒ ç›´è¿æ³„éœ² | âœ… SNI è¯†åˆ«ä»£ç† | QUIC æµé‡è¿›éš§é“ |
| ç³»ç»Ÿä»£ç† | âŒ åº”ç”¨å±‚ä»£ç† | âœ… TUN å…¨å±€ä»£ç† | æ‰€æœ‰æµé‡è¢«æ•è· |
| è§„åˆ™è¦†ç›– | âš ï¸ 89 æ¡æ‰‹å†™ | âœ… 7000+ è‡ªåŠ¨æ›´æ–° | Google å…¨åŸŸè¦†ç›– |
| æ•…éšœå¤„ç† | âŒ æ‰‹åŠ¨åˆ‡æ¢ | âœ… è‡ªåŠ¨è½¬ç§» | è¿æ¥æ›´ç¨³å®š |

## ğŸš€ éªŒè¯æ­¥éª¤

### 1. DNS éªŒè¯
```bash
dig @127.0.0.1 -p 1053 gemini.google.com +short
# åº”è¿”å›: 198.18.x.x (fake-ip åœ°å€)
```

### 2. QUIC éªŒè¯
- æµè§ˆå™¨è®¿é—® `chrome://net-export`
- è¿‡æ»¤ `QUIC` æ—¥å¿—
- IP åº”æ˜¾ç¤º: `104.247.120.132` (è¥¿é›…å›¾èŠ‚ç‚¹)

### 3. Gemini è®¿é—®
- ç›´æ¥è®¿é—®: https://gemini.google.com
- åº”æ­£å¸¸æ˜¾ç¤ºå¯¹è¯ç•Œé¢ï¼Œæ— åœ°åŒºé™åˆ¶æç¤º

### 4. Cursor æ¨¡å‹
- Settings â†’ Model provider â†’ Gemini
- åº”æ­£å¸¸æ˜¾ç¤ºæ¨¡å‹åˆ—è¡¨ï¼Œæ— "åœ°åŒºä¸æ”¯æŒ"é”™è¯¯

## ğŸŠ é¢„æœŸç»“æœ
- âœ… Gemini ç¨³å®šè§£é”ï¼Œå¯¹è¯æµç•…
- âœ… Cursor AI æ¨¡å‹åˆ—è¡¨æ­£å¸¸æ˜¾ç¤º
- âœ… æ‰€æœ‰ Google AI æœåŠ¡å¯æ­£å¸¸ä½¿ç”¨
- âœ… è¿æ¥ç¨³å®šæ€§å¤§å¹…æå‡

é…ç½®å‡çº§å®Œæˆï¼ç°åœ¨æ‚¨çš„ Clash é…ç½®å·²è¾¾åˆ°å•†ä¸šæœºåœºåŒç­‰çº§åˆ«çš„è§£é”èƒ½åŠ›ã€‚